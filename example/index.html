<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Example</title>

    <style>
        .center {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* 生成5个背景颜色类，用不同颜色 */
        .box-1 {
            background-color: #f00;
        }

        .box-2 {
            background-color: #0f0;
        }

        .box-3 {
            background-color: #00f;
        }

        .box-4 {
            background-color: #ff0;
        }

        .box-5 {
            background-color: #0ff;
        }

        div {
            margin: 20px;
        }

    </style>
</head>

<body>
    <div class="box-1 center" style="width: 200px; height: 200px;">1</div>
    <div class="box-2 center" style="height: 200px">2</div>
    <div class="box-3 center" style="width: 200px; height: 100px; display: inline-flex;">3</div>
    <div class="box-4 center" style="width: 200px; height: 100px; display: inline-flex;">4</div>
    <div class="box-5 center" style="height: 100px;">5</div>

    <div>
        <button onclick="recreate()">重新生成</button>
        <button onclick="wm2.start()">开始</button>
        <button onclick="wm2.stop()">停止</button>
    </div>

    <div id="root"></div>


    <script src="/dist/index.js"></script>

    <script>
        const watermark = new XWatermark.XWatermark();

        watermark.init('watermark123123123adfkal;andsadfasd', {
            prevent: true,
            mode: 's'
        });

        const wm1 = new XWatermark.XWatermark();
        wm1.init('box-1', {
            parentSelector: '.box-1',
            xSpace: 20,
            ySpace: 20,
            top: 50,
            width: 30
        });

        const wm2 = new XWatermark.XWatermark();
        wm2.init('THIS IS ROOT WM', {
            parentSelector: '#root',
            prevent: true,
            // observer: true
        });
    </script>

    <script>
        function createNestedElement(depth, count) {
            if (depth === 0 || count === 0) {
                return null;
            }

            const parent = document.createElement('div');
            parent.textContent = `Depth: ${depth}, Count: ${count}`;

            const childCount = Math.ceil(count / depth);
            for (let i = 0; i < childCount; i++) {
                const child = createNestedElement(depth - 1, count - i);
                if (child) {
                    parent.appendChild(child);
                }
            }

            return parent;
        }

        const root = createNestedElement(10, 10);
        document.querySelector('#root').appendChild(root);

        function recreate() {
            const root = document.querySelector('#root');
            // root.innerHTML = '';
            const newRoot = createNestedElement(10, 12);
            root.appendChild(newRoot);
        }
    </script>
</body>

</html>
